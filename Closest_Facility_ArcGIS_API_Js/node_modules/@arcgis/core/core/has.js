/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import e from"./global.js";var a,d;let r;var o,i;null!=(a=e.dojoConfig)&&a.has||null!=(d=e.esriConfig)&&d.has?r={...null==(o=e.dojoConfig)?void 0:o.has,...null==(i=e.esriConfig)?void 0:i.has}:r={};function s(a){return"function"==typeof r[a]?r[a]=r[a](e):r[a]}s.add=(e,a,d,o)=>((o||void 0===r[e])&&(r[e]=a),d&&s(e)),s.cache=r,s.add("esri-deprecation-warnings",!0),(()=>{s.add("host-webworker",void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope);const a="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(s.add("host-browser",a),s.add("host-node","object"==typeof e.process&&e.process.versions&&e.process.versions.node&&e.process.versions.v8),s.add("dom",a),s("host-browser")){const e=navigator,a=e.userAgent,d=e.appVersion,r=parseFloat(d);if(s.add("wp",parseFloat(a.split("Windows Phone")[1])||void 0),s.add("msapp",parseFloat(a.split("MSAppHost/")[1])||void 0),s.add("khtml",d.includes("Konqueror")?r:void 0),s.add("edge",parseFloat(a.split("Edge/")[1])||void 0),s.add("opr",parseFloat(a.split("OPR/")[1])||void 0),s.add("webkit",!s("wp")&&!s("edge")&&parseFloat(a.split("WebKit/")[1])||void 0),s.add("chrome",!s("edge")&&!s("opr")&&parseFloat(a.split("Chrome/")[1])||void 0),s.add("android",!s("wp")&&parseFloat(a.split("Android ")[1])||void 0),s.add("safari",!d.includes("Safari")||s("wp")||s("chrome")||s("android")||s("edge")||s("opr")?void 0:parseFloat(d.split("Version/")[1])),s.add("mac",d.includes("Macintosh")),!s("wp")&&a.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),d=a.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(d.replace(/_/,".").replace(/_/g,""));s.add(e,r),s.add("ios",r)}s.add("trident",parseFloat(d.split("Trident/")[1])||void 0),s("webkit")||(!a.includes("Gecko")||s("wp")||s("khtml")||s("trident")||s("edge")||s.add("mozilla",r),s("mozilla")&&s.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0))}})(),(()=>{if(e.navigator){const e=navigator.userAgent,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),d=/iPhone/i.test(e);a&&s.add("esri-mobile",a),d&&s.add("esri-iPhone",d),s.add("esri-geolocation",!!navigator.geolocation)}s.add("esri-canvas-svg-support",!s("trident")),s.add("esri-wasm","WebAssembly"in e),s.add("esri-shared-array-buffer",(()=>{const a="SharedArrayBuffer"in e,d=!1===e.crossOriginIsolated;return a&&!d})),s.add("esri-atomics","Atomics"in e),s.add("esri-workers","Worker"in e),s.add("esri-text-decoder","TextDecoder"in e),s.add("esri-text-encoder","TextEncoder"in e),s.add("web-feat:cache","caches"in e),s.add("esri-workers-arraybuffer-transfer",!s("safari")||Number(s("safari"))>=12),s.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),s.add("featurelayer-simplify-payload-size-factors",[1,1,4]),s.add("featurelayer-snapshot-enabled",!0),s.add("featurelayer-snapshot-point-min-threshold",8e4),s.add("featurelayer-snapshot-point-max-threshold",4e5),s.add("featurelayer-snapshot-point-coverage",.1),s.add("featurelayer-advanced-symbols",!1),s.add("featurelayer-pbf",!0),s.add("featurelayer-pbf-statistics",!1),s.add("feature-layers-workers",!0),s.add("mapview-transitions-duration",200),s.add("mapserver-pbf-enabled",!1),s("host-webworker")||s("host-browser")&&(s.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),s.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{s.add("esri-image-decode",!0,!0,!0)})).catch((()=>{s.add("esri-image-decode",!1,!0,!0)}))}return!1})),s.add("esri-url-encodes-apostrophe",(()=>{const a=e.document.createElement("a");return a.href="?'",a.href.includes("?%27")})),s.add("vectortilelayer-max-buffers",s("ff")?160:Number.POSITIVE_INFINITY))})();export{s as default};
