/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{isEventTarget as n,on as e}from"./events.js";import{makeHandle as t}from"./handleUtils.js";import{removeMaybe as o}from"./maybe.js";import{watchTracked as r}from"./accessorSupport/watch.js";function u(n,e,t={}){return c(n,e,t,l)}function i(n,e,t={}){return c(n,e,t,s)}function c(n,e,t={},u){let i=null;const c=t.once?(n,t)=>{u(n)&&(o(i),e(n,t))}:(n,t)=>{u(n)&&e(n,t)};if(i=r(n,c,t.sync),t.immediate){const e=n();c(e,e)}return i}function l(n){return!0}function s(n){return!!n}function m(u,i,c,l={}){let s=null,m=null,f=null;function d(){s&&m&&(m.remove(),null==l.onListenerRemove||l.onListenerRemove(s),s=null,m=null)}function p(n){l.once&&l.once&&o(f),c(n)}const a=r(u,((t,o)=>{d(),n(t)&&(s=t,m=e(t,i,p),null==l.onListenerAdd||l.onListenerAdd(t))}),l.sync);return f=t((()=>{a.remove(),d()})),f}const f={sync:!0,immediate:!0};export{f as SYNC_AND_IMMEDIATE,u as react,m as reactListener,i as reactTruthy};
