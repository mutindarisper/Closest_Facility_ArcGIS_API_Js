/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{disposeMaybe as e}from"../../../core/maybe.js";import{c as r}from"../../../chunks/vec2f32.js";import"../../webgl/BufferObject.js";import t from"../../webgl/FramebufferObject.js";import"../../../core/has.js";import"../../webgl/checkWebGLError.js";import"../../webgl/enums.js";import"../../../chunks/builtins.js";import"../../webgl/renderState.js";import"../../webgl/Texture.js";import"../../webgl/VertexArrayObject.js";class s{constructor(e,s){this.size=r(),this._fbo=null,this._fbo=new t(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:s,maxAnisotropy:8,width:0,height:0})}dispose(){this._fbo=e(this._fbo)}getTexture(){return this._fbo?this._fbo.colorTexture:null}isValid(){return null!==this._fbo}resize(e,r){this.size[0]=e,this.size[1]=r,this._fbo.resize(this.size[0],this.size[1])}bind(e){e.bindFramebuffer(this._fbo)}generateMipMap(){this._fbo.colorTexture.descriptor.hasMipmap&&this._fbo.colorTexture.generateMipmap()}disposeRenderTargetMemory(){var e;null==(e=this._fbo)||e.resize(0,0)}get gpuMemoryUsage(){var e,r;return null!=(e=null==(r=this._fbo)?void 0:r.gpuMemoryUsage)?e:0}}export{s as OverlayFramebufferObject};
