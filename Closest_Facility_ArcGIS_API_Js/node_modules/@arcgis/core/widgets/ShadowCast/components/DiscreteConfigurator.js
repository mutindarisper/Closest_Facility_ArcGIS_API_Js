/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{unwrapOr as o}from"../../../core/maybe.js";import{generateUUID as s}from"../../../core/uuid.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/accessorSupport/ensureType.js";import"../../../core/Logger.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import{formatDuration as i}from"../../../intl/duration.js";import c from"../../Widget.js";import{DISCRETE_CONFIGURATOR_CSS as l}from"../css.js";import{Label as a}from"./Label.js";import{LabeledColorPicker as n}from"./LabeledColorPicker.js";import"../../support/widgetUtils.js";import{messageBundle as p}from"../../support/decorators/messageBundle.js";import{tsx as m}from"../../support/jsxFactory.js";let d=class extends c{constructor(e){super(e),this.colorPickerVisible=!0,this._selectId=`select-${s()}`,this._colorPickerId=`color-picker-${s()}`,this._onColorChange=e=>{this.options.color=e}}loadDependencies(){return Promise.all([import("@esri/calcite-components/dist/custom-elements/bundles/label.js"),import("@esri/calcite-components/dist/custom-elements/bundles/select.js")])}render(){const e=this._messages.discrete,s=e.intervalLabel,{color:t,interval:r,intervalOptions:c}=this.options;return m("div",{class:l.base},m(a,{for:this._selectId,label:s},m("calcite-select",{id:this._selectId,label:s,bind:this,onCalciteSelectChange:this._onIntervalChange},c.toArray().map((e=>m("calcite-option",{key:e,selected:e===r,value:String(e)},o(i(e,{round:!0,largest:2}),"")))))),this.colorPickerVisible&&m(n,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}))}_onIntervalChange(e){var o;const s=e.target,t=parseInt(null==(o=s.selectedOption)?void 0:o.value,10);Number.isFinite(t)&&(this.options.interval=t)}};e([t()],d.prototype,"options",void 0),e([t()],d.prototype,"colorPickerVisible",void 0),e([t(),p("esri/widgets/ShadowCast/t9n/ShadowCast")],d.prototype,"_messages",void 0),d=e([r("esri.widgets.ShadowCast.components.DiscreteConfigurator")],d);export{d as DiscreteConfigurator};
