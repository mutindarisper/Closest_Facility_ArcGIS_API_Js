"use strict";(self.webpackChunkarcgis_rm=self.webpackChunkarcgis_rm||[]).push([[5048],{5048:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var s=t(36663),a=(t(81977),t(39994),t(7283),t(13802),t(12571)),i=t(66341),o=t(48420),n=t(56247),u=t(63735),l=t(84238);const c=(0,o.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});var p=t(42964);let f=class extends p.Z{constructor(e){super(e)}solve(e,r){return async function(e,r,t){const s=[],a=[],o={},p={},f=(0,l.en)(e),{path:m}=f;r.stops&&r.stops.features&&(0,u.et)(r.stops.features,a,"stops.features",o),r.pointBarriers&&r.pointBarriers.features&&(0,u.et)(r.pointBarriers.features,a,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&(0,u.et)(r.polylineBarriers.features,a,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&(0,u.et)(r.polygonBarriers.features,a,"polygonBarriers.features",o);const y=await(0,n.aX)(a);for(const e in o){const r=o[e];s.push(e),p[e]=y.slice(r[0],r[1])}if((0,u.Wf)(p,s)){let e=null;try{e=await(0,u.bI)(m,r.apiKey,t)}catch{}e&&!e.hasZ&&(0,u.ef)(p,s)}for(const e in p)p[e].forEach(((t,s)=>{r.get(e)[s].geometry=t}));const B={...t,query:{...f.query,...c.toQueryParams(r),f:"json"}},b=m.endsWith("/solve")?m:`${m}/solve`,d=await(0,i.default)(b,B);return(0,u.mT)(d)}(this.url,e,r)}};f=(0,s._)([(0,a.j)("esri.tasks.RouteTask")],f);var m=f}}]);