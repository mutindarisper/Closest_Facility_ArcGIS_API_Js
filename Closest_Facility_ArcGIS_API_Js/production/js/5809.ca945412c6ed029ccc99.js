"use strict";(self.webpackChunkarcgis_rm=self.webpackChunkarcgis_rm||[]).push([[5809],{85809:(e,r,t)=>{t.r(r),t.d(r,{default:()=>R});var i=t(36663),a=t(81977),s=(t(39994),t(7283),t(13802),t(12571)),o=t(66341),l=t(48420),n=t(56247),p=t(63735),u=t(84238),y=(t(91957),t(80085)),c=t(49004),f=t(61681),B=t(34248),d=t(14685),g=t(89956),v=t(53446),m=t(90819),P=t(89542),b=t(53736);function _(e){return e.features.map((r=>{const t=d.Z.fromJSON(e.spatialReference),i=y.Z.fromJSON(r);return(0,f.Wg)(i.geometry).spatialReference=t,i}))}function h(e){return(0,f.lV)(e.features.map((r=>((0,f.pC)(r.geometry)&&(r.geometry.spatialReference=e.spatialReference),(0,b.im)(r.geometry)))))}let A=class extends c.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return h(e)}readPointBarriers(e,r){return h(r.barriers)}readPolylineBarriers(e){return h(e)}readPolygonBarriers(e){return h(e)}readIncidents(e,r){return _(r.saPolylines)}readServiceAreaPolygons(e,r){return _(r.saPolygons)}};(0,i._)([(0,a.Cb)({type:[v.Z]})],A.prototype,"facilities",void 0),(0,i._)([(0,B.r)("facilities")],A.prototype,"readFacilities",null),(0,i._)([(0,a.Cb)({type:[g.Z]})],A.prototype,"messages",void 0),(0,i._)([(0,a.Cb)({type:[v.Z]})],A.prototype,"pointBarriers",void 0),(0,i._)([(0,B.r)("pointBarriers",["barriers"])],A.prototype,"readPointBarriers",null),(0,i._)([(0,a.Cb)({type:[m.Z]})],A.prototype,"polylineBarriers",void 0),(0,i._)([(0,B.r)("polylineBarriers")],A.prototype,"readPolylineBarriers",null),(0,i._)([(0,a.Cb)({type:[P.Z]})],A.prototype,"polygonBarriers",void 0),(0,i._)([(0,B.r)("polygonBarriers")],A.prototype,"readPolygonBarriers",null),(0,i._)([(0,a.Cb)({type:[y.Z]})],A.prototype,"serviceAreaPolylines",void 0),(0,i._)([(0,B.r)("serviceAreaPolylines",["saPolylines"])],A.prototype,"readIncidents",null),(0,i._)([(0,a.Cb)({type:[y.Z]})],A.prototype,"serviceAreaPolygons",void 0),(0,i._)([(0,B.r)("serviceAreaPolygons",["saPolygons"])],A.prototype,"readServiceAreaPolygons",null),A=(0,i._)([(0,s.j)("esri.rest.support.ServiceAreaSolveResult")],A);var S=A;const C=(0,l.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});var Z=t(42964);let k=class extends Z.Z{constructor(e){super(e),this.url=null}solve(e,r){return async function(e,r,t){const i=[],a=[],s={},l={},y=(0,u.en)(e),{path:c}=y;r.facilities&&r.facilities.features&&(0,p.et)(r.facilities.features,a,"facilities.features",s),r.pointBarriers&&r.pointBarriers.features&&(0,p.et)(r.pointBarriers.features,a,"pointBarriers.features",s),r.polylineBarriers&&r.polylineBarriers.features&&(0,p.et)(r.polylineBarriers.features,a,"polylineBarriers.features",s),r.polygonBarriers&&r.polygonBarriers.features&&(0,p.et)(r.polygonBarriers.features,a,"polygonBarriers.features",s);const f=await(0,n.aX)(a);for(const e in s){const r=s[e];i.push(e),l[e]=f.slice(r[0],r[1])}if((0,p.Wf)(l,i)){let e=null;try{e=await(0,p.bI)(c,r.apiKey,t)}catch{}e&&!e.hasZ&&(0,p.ef)(l,i)}for(const e in l)l[e].forEach(((t,i)=>{r.get(e)[i].geometry=t}));const B={...t,query:{...y.query,...C.toQueryParams(r),f:"json"}},{data:d}=await(0,o.default)(`${c}/solveServiceArea`,B);return S.fromJSON(d)}(this.url,e,r)}};(0,i._)([(0,a.Cb)()],k.prototype,"url",void 0),k=(0,i._)([(0,s.j)("esri.tasks.ServiceAreaTask")],k);var R=k}}]);